<!DOCTYPE html>
<html>

<head lang="en">
    <script type="text/javascript"></script>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>LHPF</title>

    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.css">
    <link rel="stylesheet" href="css/app.css">

    <link rel="stylesheet" href="css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.3/clipboard.min.js"></script>

    <script src="js/app.js"></script>

    <style>
        .container-gif {
            display: flex;
            flex-wrap: wrap;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            justify-content: space-between;
        }

        .item {
            flex-basis: calc(50% - 10px);
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            width: 900px;
            height: 600px;
        }

        .item img {
            max-width: 100%;
            height: auto;
        }

        .item h3 {
            font-size: 18px;
            margin-top: 10px;
        }

    </style>


</head>

<body>
    <div class="container" id="main">
        <div class="row">
            <h1 class="col-md-12 text-center">
                LHPF: Look back the History and Plan for the Future in Autonomous Driving
                <small>
                </small>
            </h1>
        </div>

        <section class="section hero is-light">
            <div class="container is-max-desktop">
                <div class="columns is-centered has-text-centered" style="background: #F2F2F2">
                    <div class="column is-four-fifths">
                        <h2 class="title is-3">Generation Demonstration</h2>
                        <div class="content has-text-justified">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="text">
            <p>The ego plan is shown in yellow and pink, while agent predictions are depicted in green and blue. Reference lines are visualized as shaded arrows, and the ground truth trajectory appears as a gray shadow. Note that in reactive closed-loop simulation, the ground truth is not the optimal solution since observations change dynamically and it serves only as a recording of logged data. </p>          </div>

        <section class="section hero is-light">
            <div class="container is-max-desktop">
                <div class="columns is-centered has-text-centered" style="background: #F2F2F2">
                    <div class="column is-four-fifths">
                        <div class="content has-text-justified">
                        </div>
                    </div>
                </div>
            </div>
        </section>        
        </section>        


        <hr> <div class="container-gif">
        
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const plutoPath = 'videos/pluto_interesting/closed_loop_reactive_agents/';
                const lhpfPath = 'videos/lhpf_interesting/closed_loop_reactive_agents/';
                const container = document.querySelector('.container-gif');

                if (!container) {
                    console.error('Container element not found');
                    return;
                }

                const videoFiles = [
                    // all the video files in the folder
                    "2021.06.07.12.01.13_veh-47_04492_05024_0adcd0e658d359a7.mp4",
                    "2021.06.07.12.01.13_veh-47_04492_05024_6e6b7deeec9151a4.mp4",
                    "2021.06.07.17.49.04_veh-47_00561_01239_b7ec5cdee9765f23.mp4",
                    "2021.06.07.18.29.03_veh-16_00049_00824_fb7742eb940853b5.mp4",
                    "2021.06.07.18.29.03_veh-16_04252_04622_53f040fc7b815331.mp4",
                    "2021.06.08.16.31.33_veh-38_03406_03605_bdbec8db87c05b88.mp4",
                    "2021.06.08.18.18.30_veh-38_00005_00421_790824a2df935497.mp4",
                    "2021.07.24.00.36.59_veh-47_04360_05497_b2ed684a0dd1594e.mp4",
                    "2021.07.24.03.01.39_veh-47_00930_01568_cd63e5191fb854c4.mp4",
                    "2021.07.24.16.48.51_veh-17_02573_03272_36516922212f5065.mp4",
                    "2021.07.24.16.51.13_veh-26_01887_04395_53e9d4fd576f5955.mp4",
                    "2021.07.24.16.51.13_veh-26_01887_04395_d9e89ee9ac10598d.mp4",
                    "2021.07.24.19.10.14_veh-37_00015_01108_067488f23ef3554a.mp4",
                    "2021.07.24.20.37.45_veh-17_00386_01357_c5b92860ee7a565e.mp4",
                    "2021.07.24.22.52.16_veh-35_04956_06521_2e3a20d7f8015043.mp4",
                    "2021.07.24.22.53.21_veh-47_01429_03205_0e1e0ca3678759e0.mp4",
                    "2021.07.24.23.59.52_veh-12_03414_04602_3dc3d20b2f78573c.mp4",
                    "2021.08.09.18.37.41_veh-28_00053_00548_ec707117dc6655b5.mp4",
                    "2021.08.24.13.20.17_veh-08_00016_00738_3ad61242db035638.mp4",
                    "2021.08.24.14.35.46_veh-45_00715_01404_dfe09b52c98a5d55.mp4",
                    "2021.08.24.19.26.32_veh-08_01958_02519_6591919b5db45646.mp4",
                    "2021.09.13.17.32.06_veh-39_00776_01213_2965e4c9734152d9.mp4",
                    "2021.09.14.15.03.51_veh-45_00178_00336_d1a170aad6bd527a.mp4",
                    "2021.09.14.16.46.51_veh-45_00149_00900_bbc7bb010c275ea4.mp4",
                    "2021.09.14.18.43.41_veh-45_01555_02218_c5314146ee805579.mp4",
                    "2021.09.14.19.46.05_veh-45_00086_00843_b9371ca8b59154c3.mp4",
                    // Add more video file names here
                ];

                videoFiles.forEach(function(file) {
                    console.log('Loading video:', file);

                    const videoItemPluto = document.createElement('div');
                    videoItemPluto.classList.add('item');
                    const videoElementPluto = document.createElement('video');
                    videoElementPluto.src = plutoPath + file;
                    videoElementPluto.autoplay = true;
                    videoElementPluto.controls = true;
                    videoElementPluto.muted = true;
                    videoElementPluto.loop = true;
                    videoElementPluto.playsInline = true;
                    videoElementPluto.playbackRate = 2.0;
                    videoElementPluto.onerror = function() {
                        console.error('Error loading video:', videoElementPluto.src);
                    };
                    videoItemPluto.appendChild(videoElementPluto);
                    const plutoLabel = document.createElement('h3');
                    plutoLabel.textContent = 'Pluto: ' + file;
                    videoItemPluto.appendChild(plutoLabel);
                    container.appendChild(videoItemPluto);

                    const videoItemLhpf = document.createElement('div');
                    videoItemLhpf.classList.add('item');
                    const videoElementLhpf = document.createElement('video');
                    videoElementLhpf.src = lhpfPath + file;
                    videoElementLhpf.autoplay = true;
                    videoElementLhpf.controls = true;
                    videoElementLhpf.muted = true;
                    videoElementLhpf.loop = true;
                    videoElementLhpf.playsInline = true;
                    videoElementLhpf.playbackRate = 2.0;
                    videoElementLhpf.onerror = function() {
                        console.error('Error loading video:', videoElementLhpf.src);
                    };
                    videoItemLhpf.appendChild(videoElementLhpf);
                    const lhpfLabel = document.createElement('h3');
                    lhpfLabel.textContent = 'Lhpf: ' + file;
                    videoItemLhpf.appendChild(lhpfLabel);
                    container.appendChild(videoItemLhpf);
                });
            });
        </script>
        
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() {
                var videos = document.querySelectorAll('video');
                videos.forEach(function(video) {
                    video.playbackRate = 2.0;
                    video.addEventListener('loadedmetadata', function() {
                        this.playbackRate = 2.0;
                    });
                });
            });
        </script>
</body>

</html>